%--------- LOAD PACKAGES ---------
%--- template and layout ---
\usepackage{fancyhdr}
%\usepackage{makeidx}
\usepackage{float}
\usepackage{multirow}
\usepackage[utf8]{inputenc}

%--- algorithms ---
\usepackage[spanish]{algorithm2e}
%\usepackage{algorithm}     used together with 'algorithmic' for IEEE pseudocode style
%\usepackage{algorithmic}   used together with 'algorithm' for IEEE pseudocode style

% --- other special packages ---
%\usepackage{cancel} % to write cancel signs on mathematical expressions 
%\renewcommand{\CancelColor}{\red}
%\usepackage{moreverb} % special verbatim formatting. keeps tabs
 
%--- graphics, colors and drawings ---
\usepackage{graphicx}
%\usepackage{epsfig}
%\usepackage[hang]{caption}
%\usepackage{graphics}   %Has trouble positioning/rescaling postscripts.
\usepackage[svgnames]{xcolor} %required by xfig combined ps/tex figures.
                     %required by \definecolor{newcolorname}{named}{somecolor}
										 % The 'color' package does not support definecolor.

%- color definitions -
\usepackage{ifthen} % required by the colordefs
\input{colordefs}
\definecolor{navy}{rgb}{0.1,0.2,0.5}

%\usepackage{dictsym}
\usepackage{manfnt}  %\manimpossiblecube
\usepackage{dingbat} %\smallpencil \leftpointright
%\usepackage[alpine,clock,electronic,geometry,misc,weather]{ifsym} % \Radiation

%\usepackage{stix}
%%http://tex.stackexchange.com/questions/174814/how-to-get-only-one-symbol-from-a-symbol-package
%\DeclareFontFamily{U}{stixextrai}{}
%\DeclareFontShape{U}{stixextrai}{m}{n}
 %{ <-> stix-extra1 }{}
%
%\newcommand{\WolframSym}{{\usefont{U}{stixextrai}{m}{n}\symbol{132}}}
%%http://blog.wolframalpha.com/2009/05/19/whats-in-the-logo-that-which-we-call-a-rhombic-hexecontahedron/
% %Put in text: \WolframSym
%https://en.wikipedia.org/wiki/List_of_uniform_polyhedra

%\usepackage{uni}
   %\renewcommand{\bausquare}{{\usefont{OT1}{uni}{m}{n}\char"00}}
   %\renewcommand{\baucircle}{{\usefont{OT1}{uni}{m}{n}\char"01}}
   %\renewcommand{\bautriangle}{{\usefont{OT1}{uni}{m}{n}\char"02}}
   %\renewcommand{\bauhead}{{\usefont{OT1}{uni}{m}{n}\char"03}}
   %\renewcommand{\bauforms}{{\usefont{OT1}{uni}{m}{n}\char"04}}

%\usepackage{universal}	
%   \newcommand{\bauface}{{\usefont{OT1}{universal}{m}{n}\char"10}}
%


%--- fonts ---
%\usepackage{amsfonts}
% A popular package from the American Mathematical Society that provides
% many useful and powerful commands for dealing with mathematics. If using
% it, be sure to load this package with the cmex10 option to ensure that
% only type 1 fonts will utilized at all point sizes. Without this option,
% it is possible that some math symbols, particularly those within
% footnotes, will be rendered in bitmap form which will result in a
% document that can not be IEEE Xplore compliant!
%
% Also, note that the amsmath package sets \interdisplaylinepenalty to 10000
% thus preventing page breaks from occurring within multiline equations. Use:
%\interdisplaylinepenalty=2500
% after loading amsmath to restore such page breaks as IEEEtran.cls normally
% does. amsmath.sty is already installed on most LaTeX systems. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/required/amslatex/math/
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[cmex10]{amsmath}
%These Packages are obsolete.
%\usepackage{amstex}
%\usepackage{latexsym}

\usepackage{bm} % included for bold greek fonts, see: http://tex.stackexchange.com/questions/595/how-can-i-get-bold-math-symbols

%% --- IEEE Times Configuration ---
%% IEEE uses Times Roman font, so we'll default to Times.
%% These three commands make up the entire times.sty package.
%\renewcommand{\sfdefault}{phv} % Postscript Helvetica (Adobe)
%\renewcommand{\rmdefault}{ptm} % Postscript Times Modern (Adobe)
%\renewcommand{\ttdefault}{pcr} % Postscript Courier (Adobe)
%
%
%%\@IEEEcompsoconly{\typeout{-- Using IEEE Computer Society mode.}}
%
%% V1.7 compsoc nonconference papers, use Palatino/Palladio as the main text font,
%% not Times Roman.
%%\@IEEEcompsocnotconfonly{\renewcommand{\rmdefault}{ppl}}
%
%% enable Times/Palatino main text font
%\normalfont\selectfont
%% --- end of IEEE Times Configuration

% --- Package Helvetica ---
%\usepackage{helvet}

% --- Package Sans ---
% Computer Modern Sans Serif
%https://www.ctan.org/pkg/sans
\usepackage{sans}
\renewcommand{\rmdefault}{cmss}
\renewcommand{\sfdefault}{cmr}

%\normalfont\selectfont

% --- Other Fonts ---
%http://en.wikibooks.org/wiki/LaTeX/Fonts
%\renewcommand{\rmdefault}{ppl} % Palatino
%\renewcommand{\rmdefault}{iwona} % Iwona

%\renewcommand{\rmdefault}{lmss} % Latin Modern Sans Serif

% --- Own configuration ---
%\renewcommand{\sfdefault}{ptm} % Times Modern
%\renewcommand{\rmdefault}{lmss} % Latin Modern Sans Serif
%\renewcommand{\ttdefault}{pcr} % Courier

\usepackage{iwona} % changes only text to Iwona
%\usepackage[math]{iwona} % changes text and math to Iwona
\usepackage[T1]{fontenc}

%\usepackage{kurier} % changes only text to Iwona
%\usepackage[math]{kurier} % changes text and math to Iwona
%\usepackage[T1]{fontenc}

%\usepackage{sans}
%\usepackage[T1]{fontenc} % MUST be loaded toghether with {sans} package, otherwise
                          % bold italic sans serif fonts appear as regular bold sans serif font.


%\usepackage{sans}
%\usepackage[T1]{fontenc} % MUST be loaded toghether with {sans} package, otherwise
                          % bold italic sans serif fonts appear as regular bold sans serif font.
%\renewcommand{\rmdefault}{phv}

%\DeclareMathAlphabet{\mathbfit}{OML}{cmm}{b}{it}

\usepackage[latin1]{inputenc} % must save as ANSI (not UTF-8) for this package to 
                               % work directly with characters that have an accent.


% --- Special boxes ---
% Must go after the fonts to avoid options clash between tcolorbox and amsmath.
\usepackage[skins,theorems]{tcolorbox}

\newtcolorbox{defbox}[1]{skin=widget,colback=blue!15!white,
colframe=blue!45!black,fonttitle=\bfseries,
title=\large\rule{0mm}{\baselineskip}\smallpencil~#1}

%\newtcolorbox[auto counter,number within=section, number freestyle={\noexpand\thechapter.\noexpand\thesection\noexpand\arabic{\tcbcounter}}]{
\newtcolorbox[auto counter,number within=section, number freestyle={\noexpand\thesection\noexpand\arabic{\tcbcounter}}]{exbox}[1]{colback=green!15!white,
colframe=green!45!black,fonttitle=\bfseries,
title={\LARGE\manimpossiblecube}\large~Ejemplo~\thetcbcounter #1}

\newtcolorbox{tipbox}[2][]{colback=red!5!white,
colframe=red!75!black,fonttitle=\bfseries,
colbacktitle=red!85!black,enhanced,
attach boxed title to top left={yshift=-2mm},
title={\LARGE \leftpointright} \large Debes saber que\ldots#2,#1}

\newcommand{\eqbox}[1]{\tcboxmath[enhanced,colback=yellow!50!white,colframe=red!60!black,arc=4pt,boxrule=1pt,drop fuzzy shadow]{ #1 }}


%hyperref package - Must be loaded at the end.
\usepackage{hyperref}
\hypersetup{
%    bookmarks=true,         % show bookmarks bar?
%    unicode=false,          % non-Latin characters in Acrobat's bookmarks
%    pdftoolbar=true,        % show Acrobat's toolbar?
%    pdfmenubar=true,        % show Acrobat's menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
%    pdftitle={My title},    % title
%    pdfauthor={Author},     % author
%    pdfsubject={Subject},   % subject of the document
%    pdfcreator={Creator},   % creator of the document
%    pdfproducer={Producer}, % producer of the document
%    pdfkeywords={keyword1} {key2} {key3}, % list of keywords
    pdfnewwindow=true,      % links in new window
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\usepackage{pdfpages} % para incluir pdfs
%\includepdf[pages={1-2},landscape=false]{Instrucciones_Armado.pdf}
%\includepdf[pages={1},landscape=false]{legs_2_dof.pdf}

%\usepackage[novbox]{pdfsync} % Do not use pdfsync without [novbox], because it changes the layout of the description table of the LegoUC template!!!  MTT.2012.05.31... the problem was fixed with the [novbox] option
% pdfsync bugs
% ------------
% pdfsync uses extremely severe code. You should not use pdfsync on final documents because it can change the layout rather significantly
% (different page/line breaks are the most obvious changes), despite this is rather rare,
% 17.8th Murphy's law states that it will happen to you when it absolutely must not...

\usepackage{fancyvrb}


%--------- SET DIMENSIONS ---------
%DEFAULT SIZE: [letterpaper = 8.5in x 11in = 216mm x 279mm]
\topmargin -25.4mm %-15.4mm
\headheight 25mm %12mm
\headsep .5\baselineskip
\textheight 229mm %239mm
\footskip 1.5\baselineskip %3.5mm
%\footheight 0mm
\oddsidemargin 4.6mm %-5.4mm
\evensidemargin 4.6mm %-5.4mm
\textwidth 156mm %176mm
%\columnsep 0.375in

\parindent 0mm
\parskip 10pt
%\bibindent XXmm
\renewcommand{\baselinestretch}{1.0} %sets line spacing.


%--------- PAGE STYLE SETTINGS ---------
%\pagestyle{fancyplain} %forces fancy even on first chapter pages
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

%\fancyhead{} % clear all header fields
%\fancyhead[RO,LE]{\bfseries The performance of new graduates}
%\fancyfoot{} % clear all footer fields
%\fancyfoot[LE,RO]{\thepage}
%\fancyfoot[LO,CE]{From: K. Grant}
%\fancyfoot[CO,RE]{To: Dean A. Smith}

\lhead{% 
 %color{UC2707}
  {\large \coursename}\\
%  \deptname\\
  {\footnotesize \sc \orgname}}
\chead{}
\rhead{\parbox[b]{0.4\textwidth}{\raggedleft \Large \bf \color{UC2728}\doctitle}\!\!%
\setlength{\unitlength}{1mm}
\begin{picture}(0,0)
%\put(2.3,-41){\color{UC2728}\rule[0mm]{29mm}{.2mm}}
\put(3,-36){\includegraphics[scale=0.47]{figs/logo_uc.pdf}}
\put(2.3,-1.58){\color{UC2728}\rule[0mm]{29mm}{27mm}}
%\put(2.3,-41){\color{UC2728}\rule[0mm]{0.2mm}{42.4mm}}
%%\put(30.6,-41){\color{UC2728}\rule[0mm]{0.2mm}{42.4mm}}
\end{picture}
}
\lfoot{\mbox{}\color{UC2728}\raisebox{.1\baselineskip}{\copyright}\ \deptname\ -\ \authorname.} %, \textrm{\docdate}}
\cfoot{}
\rfoot{\mbox{}\color{UC2728}\textrm{\thepage}}

% Redefine plain pagestyle used in the first page of each chapter
\fancypagestyle{plain}{%
%\fancyhf{} % clear all header and footer fields
\fancyhead[R]{}
\fancyfoot[R]{\mbox{}\color{UC2728}\thepage} % except the center
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}}
%\renewcommand{\thesection}{\textsf{\arabic{section}}.}
%\renewcommand{\thesubsection}{\textsf{\arabic{section}.\arabic{subsection}.}}
%\renewcommand{\thefigure}{\textsf{\arabic{figure}}}
\renewcommand{\thesection}{\arabic{section}.}
\renewcommand{\thesubsection}{\arabic{section}.\arabic{subsection}.}
%\renewcommand{\thesubsubsection}{\arabic{section}.\arabic{subsection}.\arabic{subsubsection}.}

%\setcounter{secnumdepth}{3} %to number sections, subsections and subsubsections
%\setcounter{tocdepth}{3}    %to include subsubsections in the table of contents

%--------- RENEWED COMMANDS --------
% Renew equation numbering to produce eq 3.1, 3.2, etc.
%\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}

%--------- NEW COMMANDS ---------
% *** Environments ***
\newcommand{\benum}{\begin{enumerate}}
\newcommand{\eenum}{\end{enumerate}}
\newcommand{\bi}{\begin{itemize}}
\newcommand{\ei}{\end{itemize}}
\newcommand{\ba}{\begin{array}}
\newcommand{\ea}{\end{array}}
%\newcommand{\be}{\begin{equation}}
%\newcommand{\ee}{\end{equation}}
\newcommand{\eq}[1]{\begin{equation}#1\end{equation}}
\newcommand{\bea}{\begin{eqnarray}}
\newcommand{\eea}{\end{eqnarray}}
\newcommand{\bean}{\begin{eqnarray*}} %non numbered eqns.
\newcommand{\eean}{\end{eqnarray*}}   %non numbered eqns.
\newcommand{\n}{\noindent}
% *** Frequent Notation and Symbols ***
\newcommand{\xd}{\ensuremath{\dot{x}}}
\newcommand{\xdd}{\ensuremath{\ddot{x}}}
\newcommand{\deri}[2]{\ensuremath{\frac{d{#1}}{d{#2}}}}
\newcommand{\dpar}[2]{\ensuremath{\frac{\partial{#1}}{\partial{#2}}}}
\newcommand{\grad}[2]{\ensuremath{{\nabla_{#2}}{#1}}}
\newcommand{\Ad}{\ensuremath{\mathrm{Ad}}} % Ad operator for Lie Products.
\newcommand\bs{\char '134}   %  a backslash character for the \tt font

\newcommand{\eqbyd}{\stackrel{\rm \Delta}{=}}
\newcommand{\eqbydef}{\stackrel{\rm def}{=}}

%\newcommand{\natnums}{I\!\!N}
\newcommand{\natnums}{\mathbb{N}}
\newcommand{\intnums}{\mathbb{Z}}
%\newcommand{\reals}{I\!\!R}
\newcommand{\reals}{\mathbb{R}}
%\newcommand{\complex}{{C \hspace{-.5em} I \hspace{.3em}}}
\newcommand{\complex}{\mathbb{C}}
%\newcommand{\inums}{\rm I\!\!I}
\newcommand{\inums}{\mathbb{I}}
\newcommand{\imnum}{\mathbf{i}}

%Originally defined as a new command, the blacksquare is part of
%the amssymb math package, so it has to be overriden with \renewcommand.
\renewcommand{\blacksquare}{\rule{2mm}{2mm}}
\newcommand{\proofbox}{\hfill\mbox{$\blacksquare$}}

\newcommand{\inv}{^{-1}}

\newcommand{\eqdent}{\hspace{6ex}}
\newcommand{\tallarray}{\renewcommand{\arraystretch}{1.15}}
\newcommand{\normarray}{\renewcommand{\arraystretch}{1.0}}

\newcommand{\sHf}{{\cal H}_{\infty}}

% *** Short-cuts ***
\newcommand{\etal}{{\em et al.}}

% *** Commands Created by M.A.TT. ***

% Element of an input sequence (switched controls).
% #1: Component index of input vector.
% #2: Position in the sequence.
\newcommand{\uo}[2]{\ensuremath{{u_{#1}}_{(#2)}}}

%Over-Under Text
\newlength{\textwd}\newlength{\textht}    %Define lenght commands
\newlength{\textdp}
\newlength{\uptextwd}\newlength{\uptextdp}
\newlength{\downtextwd}\newlength{\downtextht}
\newcommand{\outext}[3]{%
  \settowidth{\textwd}{#1}\settoheight{\textht}{#1}% Save text width and height
  \settodepth{\textdp}{#1}%
  \settodepth{\uptextdp}{#2}\settoheight{\downtextht}{#3}%
  \settowidth{\uptextwd}{#2}\settowidth{\downtextwd}{#3}%
  \raisebox{1.1\textht}[0pt][0pt]{%
    \raisebox{\uptextdp}[0pt][0pt]{%
      \makebox[0pt][l]{\hspace{-0.5\uptextwd}\hspace{0.5\textwd}#2}}}%
  \raisebox{-1.3\downtextht}[0pt][0pt]{%
    \raisebox{-\textdp}[0pt][0pt]{%
      \makebox[0pt][l]{\hspace{-0.5\downtextwd}\hspace{0.5\textwd}#3}}}%
  {#1}%
}

%Math Over-Under Text
\newcommand{\moutext}[3]{%
  \mbox{\outext{$#1$}{${\scriptstyle #2}$}{${\scriptstyle #3}$}}%
}

%Encircled Letters
\newlength{\letwd}\newlength{\letht}      %Define lenght commands
\newcommand{\circlet}[1]{%
  \settowidth{\letwd}{\small{#1}}\settoheight{\letht}{\small{#1}}% Save letter width and height
  \raisebox{0.1\letht}[0pt][0pt]{%  
\makebox[0pt][l]{\makebox[\letwd]{$\bigcirc$}}}{\small{#1}}}% Print circle
                                                            % arround argument
%Horizontal Page-Wide Line
\newcommand{\mlin}[1]{
%\mbox{}\\*[-1.0ex]
\noindent\hfill\smallskip
\setlength{\unitlength}{\textwidth}
\begin{picture}(0.99,0.01)
\thicklines
\put(0,0){\line(1,0){1}}
\put(0.5,-0.005){\mbox{#1}}
\put(0,0){\circle*{0.01}}
\put(1,0){\circle*{0.01}}
\end{picture}
\setlength{\unitlength}{1mm}
%\mbox{}\\*[1.0ex]
%\hfill\smallskip
}
\newcommand{\mlinup}{\mlin{$\bigtriangledown$}}
\newcommand{\mlindown}{\mlin{$\bigtriangleup$}}


%--------- DEFINITIONS & ABBREVIATIONS ---------
\def\sectionM#1{\section{\protect \raggedright \textrm{#1}}}
\def\subsectionM#1{\subsection{\protect \raggedright \textrm{#1}}}

\newcounter{total}
\setcounter{total}{0}
\renewcommand{\figurename}{Figura}
\renewcommand{\tablename}{Tabla}
\def\la#1{\label{eq:#1}}
\def\re#1{(\ref{eq:#1})}
\def\textbi#1{\textbf{\textit{#1}}}
\def\r#1{\bm{#1}} % Regular matrix or vector (bold-italic font)
\def\s#1{\mathbf{#1}} % Spatial matrix or vector (bold-non-italic font)
\def\bu#1{{\bf \underline{\textrm{#1}}}}
\def\bs#1{{\bf \textrm{#1}}}

% create an example counter
\newcounter{examplecounter}[section]
\renewcommand{\theexamplecounter}{\arabic{section}.\arabic{examplecounter}}
\newenvironment{example}%
{\noindent\ignorespaces%
\stepcounter{examplecounter}%
\hrule\mbox{}\\%
\underline{Ejemplo \theexamplecounter }\\%
}%
{\hrule
\par\noindent%
\ignorespacesafterend}

% make definition boxes
\newcommand{\defboxB}[2][\mbox{}]{%
\noindent\ignorespaces
\begin{center}%
\parbox{0.8\textwidth}{%
{\em #1}\\%
\fbox{\parbox{0.75\textwidth}{\centering #2}}}%
\end{center}%
\par\noindent%
\ignorespacesafterend}

% make function references for reference and technical manuals
\newenvironment{fref}% fref is the function reference environment
{\begin{tabbing}%
 \hspace{0.2\textwidth}\=\hspace{0.8\textwidth}\kill%
}%
{\end{tabbing}}

% the following commands create fields within the fref environment
\newcommand{\fpurp}[1]{\bf{Purpose} \> #1\\[\baselineskip]}
\newcommand{\fsynt}[1]{\bf{Syntax} \> #1\\[\baselineskip]}
\newcommand{\fdesc}[1]{\bf{Description} \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\fargs}[1]{\bf{Arguments} \> #1\\[\baselineskip]}
\newcommand{\fex}[1]{\bf{Examples} \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\fdisc}[1]{\bf{Discussion} \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\flim}[1]{\bf{Limitations} \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\fsee}[1]{\bf{See Also} \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\frefs}[1]{\bf{References} \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\fcustom}[2]{%
  \begin{minipage}[t]{0.2\textwidth}\bf{#1}\end{minipage} \> %
  \begin{minipage}[t]{0.8\textwidth}#2\end{minipage}\\[\baselineskip]}
\newcommand{\fempty}[1]{ \> %
  \begin{minipage}[t]{0.8\textwidth}#1\end{minipage}\\[\baselineskip]}
\newcommand{\bfverbatim}[1]{\begin{minipage}[t]{0.2\textwidth}\bf{#1}\end{minipage} \> \begin{minipage}[t]{0.8\textwidth}}
\newcommand{\efverbatim}{\end{minipage}\\[\baselineskip]}

% function reference example
\def\frefex{%
\subsection{zfunction}\label{ss:zfunction}%
\begin{fref}%
\fpurp{Compute something.}%
\fsynt{\texttt{zfunction(args)}}%
\fdesc{This function computes something using the $\alpha(X)$ algorithm.%
\begin{eqnarray}%
\alpha(X,Y) \mapsto \alpha(X)\alpha(Y)%
\end{eqnarray}%
}%
\fargs{$v_1$\hspace{1cm}\=The value of the first argument.\\%
\>$v_2$\>The value of the second argument.\\%
\>$\vdots$\>\\%
\>$v_n$\>The value of the $n$-th argument.%
}%
\fex{%
Applying \texttt{zfunction} to three arguments cannot be shown here. %
Do not use a ``verbatim'' environment nor ``verb'' within any ``fref'' %
environment command, such as ``fpurp'', ``fex'', etc. %
Instead make a direct declaration of a ``minipage'' environment %
within the ``fref'' environment and place the verbatim text within %
the minipage.}%
\fdisc{There is nothing to discuss.}%
\fsee{\texttt{recfunc}, \texttt{strangefunction}}%
\frefs{See the work by Batwing in [1] and references therein for details on the derivation.}%
\fcustom{Implementation Notes}{This is an example of a custom-defined field.  It relies on the Deawfulization method to revert the uglyness of the complex expressions.}%
\fempty{Some other things can be subjectless if they are continuations.}%
\bfverbatim{Verbatim Space}%
%\begin{verbatim}
Must use \texttt{begin}(\texttt{verbatim}) and \texttt{end}(\texttt{verbatim}) to produce verbatim text.  Note the other commands do not accept verbatim text!
%\end{verbatim}
\efverbatim%
\end{fref}%
}




